{% extends 'index.html' %}
{% load static %}
{% load custom_tag %}

{% block title %}
    {{ article.title }}
{% endblock %}

{% block meta %}
    <meta name="description" content="{{ article.title }}">


    <meta name="keywords" content="{{ article.title }},django,java,Spring,python">
{% endblock %}

{% block css %}

    <!-- Required meta tags -->
    <link rel="stylesheet" href="{% static 'css/BlackMac.css' %}">
{#    <link rel="stylesheet" href="{% static 'css/layui.css' %}">#}
{#    <link rel="stylesheet" href="{% static 'css/layui.mobile.css' %}">#}

    <link rel="stylesheet" href="{% static 'css/tocbot.css' %}">
    <link rel="stylesheet" href="{% static 'css/OwO.min.css' %}">
{#    <link rel="stylesheet" href="{% static 'css/fonts.css' %}">#}


{% endblock %}


{% block content %}
      <div class="container">
    <div class="row">
    	<section class="col-sm-12 col-md-12 col-lg-8 index" id="main">
    <!--å·¦è¾¹å†…å®¹åŒº-start-->

    <!--é¢åŒ…å±‘-start-->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item" style="color: #0056b3;">åˆ†ç±»</li>
            <li class="breadcrumb-item" aria-current="page">{{ article.category.name }}</li>
        </ol>

    </nav>
    <!--é¢åŒ…å±‘-end-->

    <!--æ–‡ç« -start-->
    <article>
        <div class="article px-2 pt-3 pb-2 bg-white">
            <!--æ–‡ç« ç›¸å…³å‚æ•°-start-->
            <header class="text-center">
                <!--æ–‡ç« æ ‡é¢˜-->
                <h2 class="article-title">{{ article.title }}</h2>
                <!--æ–‡ç« ç›¸å…³å‚æ•°ä»¥åŠæ“ä½œ-->
                <div class="article-relative-meta">
                    <i class="fa fa-calendar"
                       style="color: pink;"></i> {{ article.update_time | date:"Y-m-d" }}
                    <i class="fa fa-user" style="color: #f0c674;"></i>å¤§èªæ˜
                    <a href="#comment" class="mr-auto"><i class="fa fa-comments"
                                                          style="color: yellowgreen;"></i>9è¯„è®º</a>
                    <i class="fa fa-eye" style="color: lightskyblue;"></i>{{ article.click_count }}
                    <i class="fa fa-heart" style="color: #FF6767;"></i><span id="like-count">4</span>å–œæ¬¢
                    <!--ç§»åŠ¨ç«¯å’Œå¹³æ¿ç«¯ä¼šè¢«éšè—-->
                    <span class="hd hidden-sm">
                            <!--æ–‡ç« å†…å®¹æ“ä½œåŠŸèƒ½å¦‚ï¼šå¼€å¯é˜…è¯»æ¨¡å¼-->
                            <a data-morphing="" id="morphing" data-src="#morphing-content" href="javascript:;"
                               class=" mr-0">
                                <i class="fa fa-columns" aria-hidden="true" style="color: #F5DEB3;"></i>é˜…è¯»æ¨¡å¼
                            </a>
                            <a href="javascript:;" class="close-sidebar" title="éšè—è¾¹æ "><i class="fa fa-toggle-off"
                                                                                         style="color:#28a745"></i>éšè—è¾¹æ </a>
                            <a href="javascript:;" class="show-sidebar" style="display: none;"><i
                                    class="fa fa-toggle-on" style="color:#28a745;"></i>æ˜¾ç¤ºè¾¹æ </a>
                        </span>
                </div>

            </header>

            <!--æ–‡ç« å†…å®¹åŒºåŸŸ-start-->
            <div id="article-content" class="article-content">

                {{ detail_html | custom_markdown | safe }}
{#                {{ article.content | safe }}#}
            </div>
            <!--æ–‡ç« å†…å®¹åŒºåŸŸ-end-->

            <!--ç‰ˆæƒç”³æ˜-->
            <div class="breadcrumb d-block text-center my-2">
                Â© è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰,æ¬¢è¿è½¬è½½ï¼Œè½¬è½½è¯·è¯´æ˜å‡ºå¤„ï¼š<a href="/" class="">å¤§èªæ˜</a>,è°¢è°¢ç†è§£ï¼
            </div>

            <!--æ–‡ç« æ“ä½œåŒºåŸŸ-start-->
            <div class="text-center py-5 operation btn-group-sm ">
                <button type="button" class="btn btn-outline-primary" data-id="13" id="post-like"><i
                        class="fa fa-heart"></i>å–œæ¬¢
                </button>
                <button type="button" id="dashang" class="btn btn-outline-danger" data-toggle="modal"
                        data-target="#modal-dashang"><i class="fa fa-usd"></i>æ‰“èµ
                </button>
                <button type="button" class="btn btn-outline-success" id="share"><i
                        class="fa fa-share-alt"></i>åˆ†äº«
                </button>
                <!--åˆ†äº«å¯¹è±¡ç»„-start-->
                <div class="text-center share-group mt-2 position-static" style="display:none">
                    <a href="javascript:;" class="d-inline-block"
                       onclick="share('qq','è¯´è¯´æˆ‘çš„åšå®¢','åšå®¢ç¬¬å››ç‰ˆæœ¬å·²ç»ä¸Šçº¿ï¼Œæ­¤æ¬¡é‡æ„åœ¨äºåˆ’åˆ†åº”ç”¨æ¨¡å—ï¼Œå……åˆ†å‘æŒ¥djangoçš„ä¼˜åŠ¿ï¼Œå¦‚ä½¿ç”¨æ¨¡æ¿ç¼“å­˜ã€åˆ©ç”¨ä¿¡å·æœºåˆ¶å®ç°ä¿¡æ¯å˜æ›´æ¸…é™¤ç¼“å­˜ã€æ–°å¢ã€æ–‡ä»¶ä¸Šä¼ å™¨åº”ç”¨ã€‘æ¥è°ƒç”¨django-storageæ¥å£æ¥å­˜å‚¨æ–‡ä»¶(æ–¹ä¾¿åæœŸæ›´æ¢å­˜å‚¨æ¥å£)ã€ä¼˜åŒ–æ–‡ç« æ¨¡å—ï¼Œæ”¯æŒä¸¤ç§ç¼–è¾‘å™¨ï¼Œæ–°å¢æ–‡ç« ç½®é¡¶åŠŸèƒ½ç­‰','/media/2020-12/06/1d38909f489e4d5d957e125ec3d137f6.jpg');"
                       rel="nofollow" data-toggle="tooltip" title="åˆ†äº«åˆ°qq">
                        <div class="border border-info rounded-circle">
                            <i class="fa fa-qq text-info"></i>
                        </div>
                    </a>
                    <a href="javascript:;" class="d-inline-block"
                       onclick="share('qzone','è¯´è¯´æˆ‘çš„åšå®¢','åšå®¢ç¬¬å››ç‰ˆæœ¬å·²ç»ä¸Šçº¿ï¼Œæ­¤æ¬¡é‡æ„åœ¨äºåˆ’åˆ†åº”ç”¨æ¨¡å—ï¼Œå……åˆ†å‘æŒ¥djangoçš„ä¼˜åŠ¿ï¼Œå¦‚ä½¿ç”¨æ¨¡æ¿ç¼“å­˜ã€åˆ©ç”¨ä¿¡å·æœºåˆ¶å®ç°ä¿¡æ¯å˜æ›´æ¸…é™¤ç¼“å­˜ã€æ–°å¢ã€æ–‡ä»¶ä¸Šä¼ å™¨åº”ç”¨ã€‘æ¥è°ƒç”¨django-storageæ¥å£æ¥å­˜å‚¨æ–‡ä»¶(æ–¹ä¾¿åæœŸæ›´æ¢å­˜å‚¨æ¥å£)ã€ä¼˜åŒ–æ–‡ç« æ¨¡å—ï¼Œæ”¯æŒä¸¤ç§ç¼–è¾‘å™¨ï¼Œæ–°å¢æ–‡ç« ç½®é¡¶åŠŸèƒ½ç­‰','/media/2020-12/06/1d38909f489e4d5d957e125ec3d137f6.jpg');"
                       rel="nofollow" data-toggle="tooltip" title="åˆ†äº«åˆ°qqç©ºé—´">
                        <div class="border border-primary rounded-circle">
                            <i class="fa fa-star text-primary"></i>
                        </div>
                    </a>
                    <a href="javascript:;" class="d-inline-block"
                       onclick="share('weibo','è¯´è¯´æˆ‘çš„åšå®¢','åšå®¢ç¬¬å››ç‰ˆæœ¬å·²ç»ä¸Šçº¿ï¼Œæ­¤æ¬¡é‡æ„åœ¨äºåˆ’åˆ†åº”ç”¨æ¨¡å—ï¼Œå……åˆ†å‘æŒ¥djangoçš„ä¼˜åŠ¿ï¼Œå¦‚ä½¿ç”¨æ¨¡æ¿ç¼“å­˜ã€åˆ©ç”¨ä¿¡å·æœºåˆ¶å®ç°ä¿¡æ¯å˜æ›´æ¸…é™¤ç¼“å­˜ã€æ–°å¢ã€æ–‡ä»¶ä¸Šä¼ å™¨åº”ç”¨ã€‘æ¥è°ƒç”¨django-storageæ¥å£æ¥å­˜å‚¨æ–‡ä»¶(æ–¹ä¾¿åæœŸæ›´æ¢å­˜å‚¨æ¥å£)ã€ä¼˜åŒ–æ–‡ç« æ¨¡å—ï¼Œæ”¯æŒä¸¤ç§ç¼–è¾‘å™¨ï¼Œæ–°å¢æ–‡ç« ç½®é¡¶åŠŸèƒ½ç­‰','/media/2020-12/06/1d38909f489e4d5d957e125ec3d137f6.jpg');"
                       rel="nofollow" data-toggle="tooltip" title="åˆ†äº«åˆ°å¾®åš">
                        <div class="border border-danger rounded-circle">
                            <i class="fa fa-weibo text-danger"></i>
                        </div>
                    </a>

                    <a href="javascript:;" class="d-inline-block" rel="nofollow" id="weixin">
                        <div class="border border-success rounded-circle">
                            <i class="fa fa-weixin text-success"></i>
                        </div>
                    </a>
                    <a href="javascript:;" class="d-inline-block" rel="nofollow" data-toggle="tooltip"
                       title="ç”Ÿæˆåˆ†äº«å›¾">
                        <div class="border border-dark rounded-circle">
                            <i class="fa fa-camera"></i>
                        </div>
                    </a>
                </div>
                <!--åˆ†äº«å¯¹è±¡ç»„-end-->


            </div>
            <!--æ–‡ç« æ“ä½œåŒºåŸŸ-end-->

            <!--æ–‡ç« è„šéƒ¨-start-->
            <div class="article-footer clearfix">
                <!--æ–‡ç« æ ‡ç­¾-->
                <div class="float-left tags">
                    <i class="fa fa-tags"></i>

                    <a class="btn btn-sm border rounded-pill m-0" href="#">åšå®¢</a>

                </div>
                <!--æ–‡ç« ç¼–è¾‘æ—¶é—´-->
                <div class="float-right mt-2 pull-date">
                    <span class="mt-2 text-muted">æœ€åç¼–è¾‘ï¼š{{ article.update_time| date:"Y-m-d" }}</span>
                </div>
            </div>
            <!--æ–‡ç« è„šéƒ¨-end-->
        </div>

        <!--æ–‡ç« ç¿»é¡µæ“ä½œ-start-->
        <div class="clearfix m-2">


            <a class="btn btn-outline-primary float-left" href="skill-wangyiyun.html">ä¸Šä¸€ç¯‡</a>


            <a class="btn btn-outline-success float-right" href="install-virtualenvwrapper.html">ä¸‹ä¸€ç¯‡</a>


        </div>
        <!--æ–‡ç« ç¿»é¡µæ“ä½œ-end-->


        <!--è¯„è®ºæ¨¡å—-start-->


        <div id="comments" class="" style="opacity:0.85;">

            <!--è¯„è®ºåˆ—è¡¨-start-->

        <ol class="list-group comment-list" id="comments">
            {{ ret | build_coment_tree | safe }}
        </ol>

            <!--è¯„è®ºè¡¨å•-start-->
            <div id="respond" class="bg-white mt-3 px-3 pt-3 pb-2">
                <a name="comment"></a>
                <h4>å‘è¡¨è¯„è®º
                    <a class="btn btn-sm btn-info d-none text-white" id="cancel-reply"
                       onclick="cancelReply();">å–æ¶ˆå›å¤</a>
                </h4>
            {% if not cur_user_name %}
                <p class="text-muted">ç”µå­é‚®ä»¶åœ°å€ä¸ä¼šè¢«å…¬å¼€ã€‚</p>
            {% else %}
                <p class="text-muted">å½“å‰ç™»å½•ç”¨æˆ·ï¼š<span style="color:#2b3af0;">{{ cur_user_name.username }}</span></p>
            {% endif %}

                <form id="comment-form" onsubmit="return false;" method="post" action="{% url 'comment' %}" >
                    {% csrf_token %}
                    <div class="form-group" id="article_content">
                                        <textarea class="form-control OwO-textarea" id="content" name="content" rows="5"
                                                  placeholder="å±…ç„¶ä»€ä¹ˆéƒ½ä¸è¯´ï¼Œå“¼ï¼" autocomplete="off" aria-label="content"
                                                  aria-describedby="addon-wrapping" required=""></textarea>
                        <div class="invalid-feedback" id="content-feedback">

                        </div>
                    <div class="OwO">
{#                            <div href="javascript: void(0);" class="btn btn-sm btn-warning OwO-logo OwO"#}
{#                           rel="external nofollow"><i class="fa fa-smile-o"#}
{#                                                      aria-hidden="true"></i>è¡¨æƒ…</div>#}
{#                        </div>#}

                    </div>

                    <!--è¯„è®ºäººä¿¡æ¯--->
                    {% if not cur_user_name %}
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text text-center"><i class="fa fa-user"></i></span>
                        </div>
                        <input name="username" id="username" type="text" class="form-control"
                               placeholder="æ˜µç§°(å¿…å¡«)" aria-label="username"
                               aria-describedby="addon-wrapping" required="">
                        <div class="invalid-feedback" id="username-feedback">
                        </div>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text text-center"><i class="fa fa-envelope-o"></i></span>
                        </div>
                        <input name="qq_email" type="email" id="qq_email" class="form-control"
                               placeholder="QQé‚®ç®±(å¿…å¡«)" aria-label="email"
                               aria-describedby="addon-wrapping" required="">
                        <div class="invalid-feedback" id="qq_email-feedback">
                            è¯·è¾“å…¥æ­£ç¡®æ ¼å¼çš„qqé‚®ç®±
                        </div>
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text text-center"><i class="fa fa-link"></i></span>
                        </div>
                        <input name="link" id="web_site" type="text" class="form-control"
                               placeholder="ç½‘ç«™(é€‰å¡«)" aria-label="link" aria-describedby="addon-wrapping">
                        <div class="invalid-feedback">
                            è¯·è¾“å…¥ä»¥httpæˆ–httpså¼€å¤´çš„URL,æ ¼å¼å¦‚:https://libo_sober.top
                        </div>
                    </div>
                    {% else %}
                        <input name="username" id="username" type="hidden" value="{{ cur_user_name.username }}">
                        <input name="qq_email" type="hidden" id="qq_email" value="{{ cur_user_name.email }}">
                    {% endif %}

                    <button type="submit" class="btn btn-info btn-block" id="comment-submit"
                            data-placement="top" data-toggle="tooltip" title="ç•…æ‰€æ¬²è¨€">æäº¤è¯„è®º
                    </button>
                                        <input type="hidden" name="article" value="{{ article.id }}" id="comment_post_ID">
                    {#                    <input type="hidden" name="category_id" value="7" id="comment_post_type">#}
{#                                        <input type="hidden" name="pid" id="pid" value="{{  }}"><!--ä¸º0ä»£è¡¨æ–°è¯„è®º-->#}
                    {#                    <input type="hidden" name="csrfmiddlewaretoken"#}
                    {#                           value="13fuPwPJplNcsC9wTDaYPs3KK5qS6W6u9HTA2NaMmjdDkHlqCcSdMO92BzDF0BIs">#}
                </form>
            </div>
            <!--è¯„è®ºè¡¨å•-end-->

        </div>




        <!--è¯„è®ºæ¨¡å—-end-->


    </article>
    <!--æ–‡ç« -end-->

    <!--å·¦è¾¹å†…å®¹åŒº-end-->

<!---å¼€å¯é˜…è¯»æ¨¡å¼-->
    <div style="display:none;" id="morphing-content">
        <h1 class="text-center my-0 p-0">{{ article.title }}</h1>
        <div class="text-muted text-center">
            <span class="byline">å¤§èªæ˜</span>&nbsp;â€¢&nbsp;
            <time class="date">{{ article.update_time | date:"Y-m-d H:i:s" }}</time>
        </div>
        <div class="article-content">
            {{ detail_html | custom_markdown | safe }}
        </div>
    </div>


    <!-- Modal -->
    <div class="modal fade" id="modal-dashang" tabindex="-1" role="dialog" aria-labelledby="modal-dashang-title"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header bg-info">
                    <h5 class="modal-title" id="modal-dashang-title">ç”¨é‡‘é’±ç ¸æˆ‘å§ï¼Œæˆ‘æŒºå¾—ä½ï¼ï¼ï¼</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center bg-light">
                    <figure class="figure">
                        <img src="{% static 'picture/pay-weixin.png' %}" class="figure-img img-fluid rounded" alt="..."
                             style="max-width: 130px;width: 130px;">
                        <figcaption class="figure-caption text-center">å¾®ä¿¡</figcaption>
                    </figure>
                    <figure class="figure">
                        <img src="{% static 'picture/pay-zhifubao.png' %}" class="figure-img img-fluid rounded"
                             alt="..."
                             style="max-width: 130px;width: 130px;">
                        <figcaption class="figure-caption text-center">æ”¯ä»˜å®</figcaption>
                    </figure>
                </div>
            </div>
        </div>
    </div>

        </section>

{% endblock %}


{% block aside %}
    <!--å³è¾¹å†…å®¹åŒºåŸŸ-start-->
    <aside class="col-lg-4 col-xl-4 hidden-xs hidden-sm" id="aside">
        <div class="sidebar" id="sidebar">


            <aside class="col-12 pl-3 aside-article-catalog tab-6">
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link border-0 text-center text-dark active" data-toggle="tab"
                           href="#aside-article-catalog" role="tab" aria-controls="aside-article-catalog">æ–‡ç« ç›®å½•</a>
                    </li>
                </ul>
                <div class="tab-content pt-2">
                    <div class="tab-pane active" id="aside-article-catalog" role="tabpanel">
                        <div id="tocContainer" class="tocContainer toc"></div>
                    </div>
                </div>
            </aside>

        </div>
    </aside>
    <!--å³è¾¹å†…å®¹åŒºåŸŸ-end-->

{% endblock %}
    </div>


  </div>
{% block js %}
{#    jsä»£ç è¦å†™åœ¨bodyåï¼Œå¦åˆ™å®¹æ˜“ä¸æ‰§è¡Œ  è¯„è®ºæ ‘å±•ç¤º#}
{#                <script>#}
{#                $(".dianji").click(function (){#}
{#                    $.ajax({#}
{#                        url: "/comment/tree/",#}
{#                        type: "get",#}
{#                        data: {#}
{#                            article_id: "{{ article.id }}",#}
{#                        },#}
{#                        success:function (data){#}
{#                            console.log(data)#}
{#                            $.each(data, function (index, coment_obj){#}
{#                                var pid = coment_obj.pid#}
{#                                var add_time = coment_obj.add_time#}
{#                                var content = coment_obj.content#}
{#                                var pk = coment_obj.pk#}
{#                                var username = coment_obj.username#}
{#                                var fu_username = coment_obj.fu_username#}
{#                                if(!pid){#}
{#                                     var gen_comment =#}
{#                                `#}
{#                <li class="list-group-item comment-${pk} mt-3 px-2 pt-3 pb-2 depth-0" comment_id=${pk}>#}
{#                    <div class="clearfix" id="div-comment-${pk}">#}
{#                        <div class="media">#}
{#                            <img src="/static/picture/g-sdk_cFeAJq3pic4ekYTaQMJSx4Q_10.jpg"#}
{#                                 class="mr-3 rounded-circle" width="50" height="50"#}
{#                                 onerror="javascript:this.src='/static/image/unknow.png';">#}
{#                            <div class="media-body">#}
{#                                <div class="comment-info">#}
{#                                    <cite class="c3">#}
{##}
{#                                        ${username}#}
{##}
{#                                    </cite>#}
{##}
{#                                </div>#}
{#                                <div class="comment-meta"><span#}
{#                                        class="font-weight-light text-muted">${add_time}</span>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{#                        <p class="text-break mt-2">${content}</p>#}
{#                        <a class="btn btn-sm btn-secondary float-right"#}
{#                           onclick="reply('div-comment-${pk}','${pk}')">å›å¤</a>#}
{#                    </div>                </li>`#}
{#                                    $(".comment-list").append(gen_comment);#}
{#                                }else {#}
{#                                                                var zi_comment = `#}
{#                <li class="list-group-item comment-${pk} mt-3 px-2 pt-3 pb-2 depth-0" comment_id=${pk}>#}
{#                    <div class="clearfix" id="div-comment-${pk}">#}
{#                        <div class="media">#}
{#                            <img src="/static/picture/g-sdk_cFeAJq3pic4ekYTaQMJSx4Q_10.jpg"#}
{#                                 class="mr-3 rounded-circle" width="50" height="50"#}
{#                                 onerror="javascript:this.src='/static/image/unknow.png';">#}
{#                            <div class="media-body">#}
{#                                <div class="comment-info">#}
{#                                    <cite class="c3">#}
{##}
{#                                        ${username}#}
{##}
{#                                    </cite>#}
{#                       <i class="fa fa-share fa-fw fa-1x mr-2 c1" aria-hidden="true"></i>#}
{#                       <cite class="c3"><a href="#div-comment-${pid}" class="text-reset">${fu_username}</a></cite>#}
{#                                                       </div>#}
{#                                <div class="comment-meta"><span#}
{#                                        class="font-weight-light text-muted">${add_time}</span>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{#                        <p class="text-break mt-2">${content}</p>#}
{#                        <a class="btn btn-sm btn-secondary float-right"#}
{#                           onclick="reply('div-comment-${pk}','${pk}')">å›å¤</a>#}
{#                    </div>                </li>`#}
{#                                    console.log(pid)#}
{#                                    console.log(fu_username)#}
{#                                    $("[comment_id="+pid+"]").append('<ol class="children">' + zi_comment + '</ol>');#}
{#                                }#}
{##}
{#                            })#}
{#                        }#}
{#                      })#}
{##}
{#                 })#}
{##}
{#            </script>#}

<script src="{% static 'js/api.js' %}"></script>
{#<script src="{% static 'js/layui.js' %}"></script>#}
{#<script src="{% static 'js/layui.all.js' %}"></script>#}
<script type="text/javascript" src="{% static 'js/prism.js' %}"></script>
<script src="{% static 'js/tocbot.min.js' %}"></script>
<script src="{% static 'js/fancyMorph.min.js' %}"></script>

    <!--å¼•å…¥markdownæ’ä»¶-->
{#<link rel="stylesheet" href="static/css/vue.css">#}
{#<script src="{% static 'js/editormd.js' %}"></script>#}
{#<script src="{% static 'js/marked.min.js' %}"></script>#}
{#    <!-editormdè‡ªå¸¦çš„--->#}
{#<script src="{% static 'js/flowchart.min.js' %}"></script>#}
{#<script src="{% static 'js/raphael.min.js' %}"></script>#}
{#<script src="{% static 'js/jquery.flowchart.min.js' %}"></script>#}
{#<script src="{% static 'js/underscore.min.js' %}"></script>#}
{#<script src="{% static 'js/sequence-diagram.min.js' %}"></script>#}
{#    <script src="{% static 'js/clipboard.min.js' %}"></script>#}


    <!--å¼•å…¥DoubanBoardç»„ä»¶-->
{#    <script src="{% static 'js/DoubanBoard.js'%}"></script>#}
{#    OwOè¡¨æƒ…#}
    <script src="{% static 'js/OwO.min.js' %}"></script>
        <script>
            var OwO_demo = new OwO({
                {#logo: 'OÏ‰Oè¡¨æƒ…',#}
                logo: 'ğŸ˜‚è¡¨æƒ…',
                container: document.getElementsByClassName('OwO')[0],
                target: document.getElementById('content'),
                api: window.location.origin + "{% static 'OwO.json' %}",
                position: 'down',
                width: '100%',
                maxHeight: '250px'
            });
        </script>

        <script>

        {#å°å¿ƒå¿ƒç‚¹èµ#}
        $(function () {

            $("#post-like").on("click", function () {
                if ($(this).hasClass('have-like')) {
                    layer.msg('ä½ å·²ç»ç‚¹è¿‡èµå•¦(ï½¥âˆ€ï½¥)ï¼');
                    return false;
                } else {
                    $(this).addClass('have-like');
                    var id = $(this).data("id");
                    $.ajax({
                        url: "/article/love",
                        type: "POST",
                        data: {"id": id},
                        dataType: "json",
                        beforeSend: function (xhr, settings) {
                            xhr.setRequestHeader("X-CSRFToken", "13fuPwPJplNcsC9wTDaYPs3KK5qS6W6u9HTA2NaMmjdDkHlqCcSdMO92BzDF0BIs");
                        },
                        success: function (data) {
                            console.log(data);
                            if (data.status == "success") {
                                $("#like-count").html(parseInt($("#like-count").html()) + 1);
                                layer.msg('à­§(à¹‘â€¢Ì€âŒ„â€¢Ìà¹‘)à«­æ„Ÿè°¢ä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼');
                            } else {
                                layer.msg(data.msg);
                            }
                        }

                    });
                }
            });
            //åˆå§‹åŒ–æ–‡ç« ç›¸å…³js
            initArticleJS();
        })
    </script>
    <script>
        {#var testView = editormd.markdownToHTML("article-content", {#}
        {#    emoji: true, tex: true, task_list: true, toc: false, atLink: false,#}
        {#    flowChart: true, sequenceDiagram: true, previewCodeHighlight: false,#}
        {#    htmlDecode: true#}
        {# });#}

        highlightCodeForMDArticle();





        setTimeout(function () {
            $("#morphing-content .article-content").html($("#article-content").html());
        }, 2000);
    </script>
{#    ç»™æ–‡ç« çš„hæ ‡ç­¾æ·»åŠ idå€¼#}
    <script>
        var headerEl = 'h1,h2,h3,h4',  //headers
    content = '.article-content',//æ–‡ç« å®¹å™¨
    idArr = {};  //æ ‡é¢˜æ•°ç»„ä»¥ç¡®å®šæ˜¯å¦å¢åŠ ç´¢å¼•id
//add #id

$(content).children(headerEl).each(function () {
    //å»é™¤ç©ºæ ¼ä»¥åŠå¤šä½™æ ‡ç‚¹
    var headerId = $(this).text().replace(/[\s|\~|`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\_|\+|\=|\||\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\ï¼š|\ï¼Œ|\ã€‚]/g, '');

    headerId = headerId.toLowerCase();
    if (idArr[headerId]) {
        //idå·²ç»å­˜åœ¨
        $(this).attr('id', headerId + '-' + idArr[headerId]);
        idArr[headerId]++;
    }
    else {
        //idæœªå­˜åœ¨
        idArr[headerId] = 1;
        $(this).attr('id', headerId);
    }
});
tocbot.init({
            {#æ·»åŠ åˆ°å“ªé‡Œ#}
            tocSelector: '.tocContainer',
            {#é’ˆå¯¹é‚£ä¸ªidæ ‡ç­¾#}
            contentSelector: '.article-content',
            {#æ»šåŠ¨è·Ÿéš#}
            positionFixedClass: 'is-position-fixed',
            positionFixedSelector: '.aside-article-catalog',
            {#// éœ€è¦è§£æçš„æ ‡é¢˜#}
            headingSelector: headerEl,
        });
controlSidebar();
    </script>
{% endblock %}